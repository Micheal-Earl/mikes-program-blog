# tags to render markdown content
<h1>Object Oriented Lua</h1>
<h1>Single.html</h1>
<p><p>Well this blog didn&rsquo;t really take off. I just can&rsquo;t spin up the effort to write something every day. I&rsquo;ve recently gotten into Lua and the LOVE 2d game library. Playing around with that has been pretty fun.</p>
<p>I&rsquo;m using a library in lua to help me implement OOP functionality. The library is called classical.lua and you can find it <a href="https://github.com/rxi/classic">here</a>.</p>
<p>You can see some notes I made on the usage of the classical library in my repo <a href="https://github.com/Zenrix/oop_notes">here</a></p>
<p>And, just so I can test some stuff on my blog I will post the notes here too.</p>
<p> </p>
<p><strong>Main.lua:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#75715e">-- We must require our &#34;classic&#34; library to implement this</span>
<span style="color:#75715e">-- version of OOP. We then require our two object Classes</span>
<span style="color:#75715e">-- so that we can make Point and Vehicle objects + their children</span>
Object <span style="color:#f92672">=</span> require <span style="color:#e6db74">&#39;lib/classic/classic&#39;</span>
require <span style="color:#e6db74">&#39;objects/Point&#39;</span>
require <span style="color:#e6db74">&#39;objects/Vehicle&#39;</span>

<span style="color:#75715e">-- Just a main function for flavor</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>()
  <span style="color:#75715e">-- Make 3 point objects and assign them values for x and y</span>
  <span style="color:#66d9ef">local</span> point <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>)
  <span style="color:#66d9ef">local</span> point2 <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">3</span>)
  <span style="color:#66d9ef">local</span> point3 <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">4</span>)

  <span style="color:#75715e">-- Print the point values of our 3 point objects</span>
  point:printPoint()
  point2:printPoint()
  point3:printPoint()

  <span style="color:#75715e">-- Make a Rect object which is a child of point</span>
  <span style="color:#66d9ef">local</span> rect <span style="color:#f92672">=</span> Rect(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>)
  rect:printPoint() <span style="color:#75715e">-- Print our Rect objects coordinates using our</span>
                    <span style="color:#75715e">-- parents function Point:printPoint()</span>

  <span style="color:#75715e">-- Make a Car object which is a child of Vehicle</span>
  <span style="color:#66d9ef">local</span> toyota <span style="color:#f92672">=</span> Car(<span style="color:#e6db74">&#34;Toyota Car&#34;</span>, <span style="color:#ae81ff">75</span>, <span style="color:#e6db74">&#34;White&#34;</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>)
  toyota:printName()  <span style="color:#75715e">-- Print our Car objects name using our parent</span>
                      <span style="color:#75715e">-- function Vehicle:printName()</span>

  <span style="color:#75715e">-- Begin checking what our toyota object belongs to</span>
  <span style="color:#75715e">-- it is an Object, Vehicle, and finally a Car</span>
  print(toyota:is(Object))
  print(toyota:is(Vehicle))
  print(toyota:is(Car))
  print(toyota:is(Rect))

  <span style="color:#75715e">-- Perform similar function on our Rect object and</span>
  <span style="color:#75715e">-- Print the results</span>
  print(rect:is(Point))
  print(rect:is(Rect))

<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- Run our main function</span>
main()
</code></pre></div><p> <br>
 </p>
<p>And the two classes, the first being <strong>Vehicle.lua:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">Object <span style="color:#f92672">=</span> require <span style="color:#e6db74">&#39;../lib/classic/classic&#39;</span>

<span style="color:#75715e">-- Start of the Vehicle class. Creates Vehicle objects.</span>
Vehicle <span style="color:#f92672">=</span> Object:extend()

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Vehicle</span>:<span style="color:#a6e22e">new</span>(name, speed, color)
  self.name <span style="color:#f92672">=</span> name <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;Vehicle&#34;</span>
  self.speed <span style="color:#f92672">=</span> speed <span style="color:#f92672">or</span> <span style="color:#ae81ff">60</span>
  self.color <span style="color:#f92672">=</span> color <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;Green&#34;</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Vehicle</span>:<span style="color:#a6e22e">printSpeed</span>()
  io.write(self.speed<span style="color:#f92672">..</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Vehicle</span>:<span style="color:#a6e22e">printName</span>()
  io.write(self.name<span style="color:#f92672">..</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Vehicle</span>:<span style="color:#a6e22e">printColor</span>()
  io.write(self.color<span style="color:#f92672">..</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- Start of the Car class. Creates Car objects. Extends the Vehicle class.</span>
Car <span style="color:#f92672">=</span> Vehicle:extend()

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Car</span>:<span style="color:#a6e22e">new</span>(name, speed, color, numOfWheels, numOfDoors)
  Car.super.new(self, name, speed, color)
  self.numOfWheels <span style="color:#f92672">=</span> numOfWheels <span style="color:#f92672">or</span> <span style="color:#ae81ff">4</span>
  self.numOfDoors <span style="color:#f92672">=</span> numOfDoors <span style="color:#f92672">or</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- Overload the printName function from the parent object</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Car</span>:<span style="color:#a6e22e">printName</span>()
  io.write(self.name <span style="color:#f92672">..</span> <span style="color:#e6db74">&#34; overloaded </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>


<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Car</span>:<span style="color:#a6e22e">printNumOfWheels</span>()
  io.write(self.numOfWheels<span style="color:#f92672">..</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Car</span>:<span style="color:#a6e22e">printNumOfDoors</span>()
  io.write(self.numOfDoors<span style="color:#f92672">..</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>
</code></pre></div><p> <br>
 </p>
<p>And the second being <strong>Point.lua</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">Object <span style="color:#f92672">=</span> require <span style="color:#e6db74">&#39;../lib/classic/classic&#39;</span>

<span style="color:#75715e">-- Make a Point object</span>
Point <span style="color:#f92672">=</span> Object:extend()

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Point</span>:<span style="color:#a6e22e">new</span>(x, y)
  <span style="color:#75715e">-- Creating properties for our future object</span>
  self.x <span style="color:#f92672">=</span> x <span style="color:#f92672">or</span> <span style="color:#ae81ff">0</span>
  self.y <span style="color:#f92672">=</span> y <span style="color:#f92672">or</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Point</span>:<span style="color:#a6e22e">printPoint</span>()
  io.write(self.x <span style="color:#f92672">..</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">..</span> self.y <span style="color:#f92672">..</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- Make a Rect object inheriting from point</span>
Rect <span style="color:#f92672">=</span> Point:extend()

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Rect</span>:<span style="color:#a6e22e">new</span>(x, y, width, height)
  <span style="color:#75715e">-- Access our parent object and run its constructer</span>
  <span style="color:#75715e">-- store those parent properties in our new Rect object</span>
  Rect.super.new(self, x, y)
  self.width <span style="color:#f92672">=</span> width <span style="color:#f92672">or</span> <span style="color:#ae81ff">0</span>
  self.height <span style="color:#f92672">=</span> height <span style="color:#f92672">or</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">end</span>
</code></pre></div><p> <br>
That should give you a pretty good idea on how the classical library works.</p>
</p>
<span>2018-03-03 00:00:00 &#43;0000 UTC</span>